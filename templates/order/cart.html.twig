{% extends 'base.html.twig' %}

{% block title %}Hello OrderController!{% endblock %}

{% block body %}

<h1>Panier</h1>
{{ dump(cart.1.ticket.ticketPricings.0.exhibition.titleExhibit)}}

<section class="summaryCart">

    {% if cart is empty %} 
    <p>Votre panier est vide.</p>
    
    {% else %}    
        <p class="thUsers">Exposition</p>
        <p class="thUsers">Ticket</p>
        <p class="thUsers">Quantité</p>
        <p class="thUsers">Prix Unitaire</p>
        <p class="thUsers">Total</p>
        <p></p>
        
        {% for product in cart %} 
            {# <p>{{ product.exhibition.title }}</p>  #}
            <p>{{ product.ticket }}</p>            

            <p>
            {# <a href="{{ path('removeTicketFromCart', {'exhibition': product.exhibition.id, 'ticket' : product.ticket.id, 'origin': 'cart'}) }}">
                <i class="fa-solid fa-minus"></i>
            </a> #}

            {{ product.qty }}      

            {# <a href="{{ path('addTicketToCart', {'exhibition': product.exhibition.id, 'ticketId' : product.ticket.id, 'origin': 'cart'}) }}">
                <i class="fa-solid fa-plus"></i>
            </a> #}
            </p>

            {# <p>{{ product.price }}</p>  #}
            <p>total</p>{# <p>{{ product.price * product.qty }}€</p> #}    

            
            <p><a href="{{ path('removeProduct', {'id': product.ticket.id}) }}">
                <i class="fa-solid fa-trash-can"></i>
                </a>
            </p>     
        {% endfor %}
        
       

    {# <p>Total : {{ total }}€</p> #}

    <a href="{{ path('deleteCartConfirm') }}" >Vider le panier</a>
    {% endif %}
</section>
{% endblock %}
