{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block javascripts %}
    {{ parent() }} {# appelle le bloc js de la base twig #}
    <script src="{{ asset('js/tickets.js') }}"></script>  
{% endblock %}

{% block body %}
<h1>Tickets</h1>

<h2>Expositions</h2>
{# {{ dump(priceByExhibit) }} #}

<select id="exhibitionSelect">
    {% for exhibition in exhibitions %}               
    <option value="{{ exhibition.id }}">{{ exhibition.dateExhibitFr }} - {{ exhibition.titleExhibit }}</option>
    {% endfor %}
</select> 

{% for exhibition in exhibitions %}
    <div id="exhibitionDetails-{{ exhibition.id }}" style="display: none;">

        {% for priceByExhibits in priceByExhibit %}
            {% if priceByExhibits.id == exhibition.id %} 

           <div>
                <p>{{ priceByExhibits.titleProduct }}</p>
                <p>{{ priceByExhibits.standardPrice }} €</p>
            </div>
            <img class="ticketImg" src="{{ priceByExhibits.imageProduct }}" alt="{{ priceByExhibits.imageProductAlt }}">

            <form method="POST" action="{{ path('addProductToCart', {'exhibition': exhibition.id, 'product' : priceByExhibits.productId}) }}"> 

                <button type="submit" class="addDelTicket">
                    <i class="fa-solid fa-plus"></i>
                </button>
            </form>

            <p>ti chiffre qui doit évoluer ou pas</p>
            

            <button type="submit" class="addDelTicket">
                <i class="fa-solid fa-minus"></i>
            </button>
            {% endif %}
        {% endfor %}
    </div>
{% endfor %}





{% endblock %}

